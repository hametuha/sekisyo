{"version":3,"sources":["sekisyo-helper.js"],"names":["jQuery","document","ready","$","on","$btn","this","$row","parents","license","prev","val","addClass","ajax","url","wpApiSettings","root","attr","method","beforeSend","xhr","setRequestHeader","nonce","data","done","response","parent","html","window","alert","message","fail","res","removeClass","responseJSON","find"],"mappings":"AAGAA,OAAOC,UAAUC,MAAM,SAASC,GAC5B,YAGAA,GAAEF,UAAUG,GAAG,QAAS,eAAgB,WACpC,GAAIC,GAAOF,EAAEG,MACTC,EAAOF,EAAKG,QAAQ,gBACpBC,EAAUJ,EAAKK,KAAK,SAASC,KACjCJ,GAAKK,SAAS,WACdT,EAAEU,MACEC,IAAKC,cAAcC,KAAO,sBAAwBT,EAAKU,KAAK,qBAAuB,IACnFC,OAAQ,OACRC,WAAY,SAAWC,GACnBA,EAAIC,iBAAkB,aAAcN,cAAcO,QAEtDC,MACId,QAASA,KAEde,KAAK,SAASC,GACblB,EAAKmB,SAASC,KAAMF,EAASE,MAC7BC,OAAOC,MAAOJ,EAASK,WAExBC,KAAK,SAASC,GACbzB,EAAK0B,YAAY,WACjBL,OAAOC,MAAOG,EAAIE,aAAaJ,aAKvC3B,EAAEF,UAAUG,GAAG,QAAS,kBAAmB,WACvC,GAAIC,GAAOF,EAAEG,MACTC,EAAOF,EAAKG,QAAQ,gBACpBC,EAAUF,EAAK4B,KAAK,iCAAiCxB,KACzDJ,GAAKK,SAAS,WACdT,EAAEU,MACEC,IAAKC,cAAcC,KAAO,sBAAwBT,EAAKU,KAAK,qBAAuB,YAAcR,EACjGS,OAAQ,SACRC,WAAY,SAAWC,GACnBA,EAAIC,iBAAkB,aAAcN,cAAcO,UAEvDE,KAAK,SAASC,GACblB,EAAKmB,SAASC,KAAMF,EAASE,MAC7BC,OAAOC,MAAOJ,EAASK,WAExBC,KAAK,SAASC,GACbzB,EAAK0B,YAAY,WACjBL,OAAOC,MAAOG,EAAIE,aAAaJ","file":"../sekisyo-helper.js","sourcesContent":["/* global wpApiSettings: false */\n\n\njQuery(document).ready(function($){\n    'use strict';\n\n    // Validate\n    $(document).on('click', '.sekisyo-btn', function(){\n        var $btn = $(this);\n        var $row = $btn.parents('.sekisyo-row');\n        var license = $btn.prev('input').val();\n        $row.addClass('loading');\n        $.ajax( {\n            url: wpApiSettings.root + 'sekisyo/v1/license/' + $row.attr('data-sekisyo-guid') + '/',\n            method: 'POST',\n            beforeSend: function ( xhr ) {\n                xhr.setRequestHeader( 'X-WP-Nonce', wpApiSettings.nonce );\n            },\n            data:{\n                license: license\n            }\n        }).done(function(response){\n            $row.parent().html( response.html );\n            window.alert( response.message );\n\n        }).fail(function(res){\n            $row.removeClass('loading');\n            window.alert( res.responseJSON.message );\n        });\n    });\n\n    // Unlink\n    $(document).on('click', '.sekisyo-unlink', function(){\n        var $btn = $(this);\n        var $row = $btn.parents('.sekisyo-row');\n        var license = $row.find('input[name=\"sekisyo-license\"]').val();\n        $row.addClass('loading');\n        $.ajax( {\n            url: wpApiSettings.root + 'sekisyo/v1/license/' + $row.attr('data-sekisyo-guid') + '?license=' + license,\n            method: 'DELETE',\n            beforeSend: function ( xhr ) {\n                xhr.setRequestHeader( 'X-WP-Nonce', wpApiSettings.nonce );\n            }\n        }).done(function(response){\n            $row.parent().html( response.html );\n            window.alert( response.message );\n\n        }).fail(function(res){\n            $row.removeClass('loading');\n            window.alert( res.responseJSON.message );\n        });\n    });\n\n});\n"]}